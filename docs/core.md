# Core API

This document describes the core PYNQ C API which is concerned around interaction with the ZYNQ IP block..

## Bitstream management

The PYNQ API provides two general pieces of functionality for interacting with bitstreams generated by Vivado; loading these onto the PL or extracting information from the bitstream.

### Loading the bitstream onto the PL

The API call `int PYNQ_loadBitstream(char* filename)` takes in the filename of the bitstream and will load this into the PL, returning the completion status of this back to user code.

__Must be run as:__ Sudo

### Extracting bitstream information

The call `int PYNQ_extractBitstreamInfo(PYNQ_BITSTREAM_INFO* info, char* filename)` takes in a pointer to an already defined variable of type _PYNQ_BITSTREAM_INFO_ and filename of the bitstream generated by Vivado. Both the meta information and payload data are extracted from the bitstream and written to the provided information variable, in this case _info_ .

This type contains the following members

Member name | C type | Description
--------- | ----------- | -----------
design | char * | Design string in the bitstream
version | char * | Version string in the bitstream
part | char * | Part number that bitstream was built for
date | char * | The date when the bistream was generated by Vivado
time | char * | The time when the bistream was generated by Vivado
data_length | int | Size in bytes of data payload
data | char * | Data payload

All the members of the _PYNQ_BITSTREAM_INFO_ are allocated within this extraction function, and when you have finished using the variable these should be freed via the `int PYNQ_freeBitstreamInfo(PYNQ_BITSTREAM_INFO* info)` API call.

